

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://fang-kang.gitee.io/blog-img/head.png">
  <link rel="icon" href="https://fang-kang.gitee.io/blog-img/head.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="房康的个人博客，凌烟的个人博客，博客，记录生活">
  
    <meta name="description" content="JavaScript 基础 注意：每道题前面出现的 (xx) 数字代表这道题出现的频次，此 JS 基础是基于 30+ 篇前端面经整理出的问题和对应的回答、参考链接等。文章内容为拿到 Offer 的本人整理。  （2）问：0.1 + 0.2 &#x3D;&#x3D;&#x3D; 0.3 嘛？为什么？JavaScirpt 使用 Number 类型来表示数字（整数或浮点数），遵循 IEEE 754 标准，通过 64 位来表示一个数字">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 基础面试">
<meta property="og:url" content="https://fang-kang.gitee.io/blog/2021/03/02/other/interview/index.html">
<meta property="og:site_name" content="凌烟">
<meta property="og:description" content="JavaScript 基础 注意：每道题前面出现的 (xx) 数字代表这道题出现的频次，此 JS 基础是基于 30+ 篇前端面经整理出的问题和对应的回答、参考链接等。文章内容为拿到 Offer 的本人整理。  （2）问：0.1 + 0.2 &#x3D;&#x3D;&#x3D; 0.3 嘛？为什么？JavaScirpt 使用 Number 类型来表示数字（整数或浮点数），遵循 IEEE 754 标准，通过 64 位来表示一个数字">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fang-kang.gitee.io/blog-img/1.png">
<meta property="article:published_time" content="2021-03-02T00:00:00.000Z">
<meta property="article:modified_time" content="2023-04-10T06:32:05.593Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="js">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://fang-kang.gitee.io/blog-img/1.png">
  
  
  
  <title>JavaScript 基础面试 - 凌烟</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/blog/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/blog/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/blog/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"fang-kang.gitee.io","root":"/blog/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":200}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/blog/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/blog/js/utils.js" ></script>
  <script  src="/blog/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 5.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/blog/">
      <strong>凌烟</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://fang-kang.github.io/note">
                <i class="iconfont icon-books"></i>
                <span>笔记</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blog/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://fang-kang.gitee.io/blog-img/blog/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="JavaScript 基础面试"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-03-02 00:00" pubdate>
          2021年3月2日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          14k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          113 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">JavaScript 基础面试</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="JavaScript-基础"><a href="#JavaScript-基础" class="headerlink" title="JavaScript 基础"></a>JavaScript 基础</h1><blockquote>
<p>注意：每道题前面出现的 (xx) 数字代表这道题出现的频次，此 JS 基础是基于 30+ 篇前端面经整理出的问题和对应的回答、参考链接等。文章内容为拿到 Offer 的本人整理。</p>
</blockquote>
<h2 id="（2）问：0-1-0-2-0-3-嘛？为什么？"><a href="#（2）问：0-1-0-2-0-3-嘛？为什么？" class="headerlink" title="（2）问：0.1 + 0.2 === 0.3 嘛？为什么？"></a>（2）问：0.1 + 0.2 === 0.3 嘛？为什么？</h2><p><code>JavaScirpt</code> 使用 <code>Number</code> 类型来表示数字（整数或浮点数），遵循 IEEE 754 标准，通过 64 位来表示一个数字（1 + 11 + 52）</p>
<ul>
<li>1 符号位，0 表示正数，1 表示负数 s</li>
<li>11 指数位（e）</li>
<li>52 尾数，小数部分（即有效数字）</li>
</ul>
<p>最大安全数字：<code>Number.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1</code>，转换成整数就是 <code>16</code> 位，所以 0.1 === 0.1，是因为通过 toPrecision(16) 去有效位之后，两者是相等的。</p>
<p>在两数相加时，会先转换成二进制，0.1 和 0.2 转换成二进制的时候尾数会发生无限循环，然后进行对阶运算，JS 引擎对二进制进行截断，所以造成精度丢失。</p>
<p>所以总结：<strong>精度丢失可能出现在进制转换和对阶运算中</strong></p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5b90e00e6fb9a05cf9080dff">juejin.im/post/5b90e0…</a></li>
</ul>
<h2 id="（4）问：JS-数据类型"><a href="#（4）问：JS-数据类型" class="headerlink" title="（4）问：JS 数据类型"></a>（4）问：JS 数据类型</h2><p>基本类型：<code>Number</code>、<code>Boolean</code>、<code>String</code>、<code>null</code>、<code>undefined</code>、<code>symbol</code>（ES6 新增的），<code>BigInt</code>（ES2020） 引用类型：<code>Object</code>，对象子类型（<code>Array</code>，<code>Function</code>）</p>
<h3 id="参考链接-1"><a href="#参考链接-1" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5b2b0a6051882574de4f3d96">juejin.im/post/5b2b0a…</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures">developer.mozilla.org/zh-CN/docs/…</a></li>
</ul>
<h2 id="问：JS-整数是怎么表示的？"><a href="#问：JS-整数是怎么表示的？" class="headerlink" title="问：JS 整数是怎么表示的？"></a>问：JS 整数是怎么表示的？</h2><ul>
<li>通过 Number 类型来表示，遵循 IEEE754 标准，通过 64 位来表示一个数字，（1 + 11 + 52），最大安全数字是 Math.pow(2, 53) - 1，对于 16 位十进制。（符号位 + 指数位 + 小数部分有效位）</li>
</ul>
<h2 id="问：Number-的存储空间是多大？如果后台发送了一个超过最大自己的数字怎么办"><a href="#问：Number-的存储空间是多大？如果后台发送了一个超过最大自己的数字怎么办" class="headerlink" title="问：Number() 的存储空间是多大？如果后台发送了一个超过最大自己的数字怎么办"></a>问：Number() 的存储空间是多大？如果后台发送了一个超过最大自己的数字怎么办</h2><p>Math.pow(2, 53) ，53 为有效数字，会发生截断，等于 JS 能支持的最大数字。</p>
<h2 id="（4）写代码：实现函数能够深度克隆基本类型"><a href="#（4）写代码：实现函数能够深度克隆基本类型" class="headerlink" title="（4）写代码：实现函数能够深度克隆基本类型"></a>（4）写代码：实现函数能够深度克隆基本类型</h2><p>浅克隆：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">shallowClone</span>(<span class="hljs-params">obj</span>) &#123;<br>  <span class="hljs-keyword">let</span> cloneObj = &#123;&#125;<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> obj) &#123;<br>    cloneObj[i] = obj[i]<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> cloneObj<br>&#125;<br>复制代码<br></code></pre></td></tr></table></figure>

<p>深克隆：</p>
<ul>
<li>考虑基础类型</li>
<li>引用类型<ul>
<li>RegExp、Date、函数 不是 JSON 安全的</li>
<li>会丢失 constructor，所有的构造函数都指向 Object</li>
<li>破解循环引用</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepCopy</span>(<span class="hljs-params">obj</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>    <span class="hljs-keyword">var</span> result = obj.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Array</span> ? [] : &#123;&#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> obj) &#123;<br>      result[i] = <span class="hljs-keyword">typeof</span> obj[i] === <span class="hljs-string">&#x27;object&#x27;</span> ? <span class="hljs-title function_">deepCopy</span>(obj[i]) : obj[i]<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">var</span> result = obj<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> result<br>&#125;<br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="问：事件流"><a href="#问：事件流" class="headerlink" title="问：事件流"></a>问：事件流</h2><p>事件流是网页元素接收事件的顺序，”DOM2 级事件”规定的事件流包括三个阶段：事件捕获阶段、处于目标阶段、事件冒泡阶段。 首先发生的事件捕获，为截获事件提供机会。然后是实际的目标接受事件。最后一个阶段是时间冒泡阶段，可以在这个阶段对事件做出响应。 虽然捕获阶段在规范中规定不允许响应事件，但是实际上还是会执行，所以有两次机会获取到目标对象。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>事件冒泡<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;parEle&quot;</span>&gt;</span>我是父元素 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sonEle&quot;</span>&gt;</span>我是子元素<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> sonEle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;sonEle&#x27;</span>)</span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> parEle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;parEle&#x27;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">  parEle.<span class="hljs-title function_">addEventListener</span>(</span><br><span class="language-javascript">    <span class="hljs-string">&#x27;click&#x27;</span>,</span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;父级 冒泡&#x27;</span>)</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-literal">false</span></span><br><span class="language-javascript">  )</span><br><span class="language-javascript">  parEle.<span class="hljs-title function_">addEventListener</span>(</span><br><span class="language-javascript">    <span class="hljs-string">&#x27;click&#x27;</span>,</span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;父级 捕获&#x27;</span>)</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-literal">true</span></span><br><span class="language-javascript">  )</span><br><span class="language-javascript"></span><br><span class="language-javascript">  sonEle.<span class="hljs-title function_">addEventListener</span>(</span><br><span class="language-javascript">    <span class="hljs-string">&#x27;click&#x27;</span>,</span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;子级冒泡&#x27;</span>)</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-literal">false</span></span><br><span class="language-javascript">  )</span><br><span class="language-javascript">  sonEle.<span class="hljs-title function_">addEventListener</span>(</span><br><span class="language-javascript">    <span class="hljs-string">&#x27;click&#x27;</span>,</span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;子级捕获&#x27;</span>)</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-literal">true</span></span><br><span class="language-javascript">  )</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>复制代码<br></code></pre></td></tr></table></figure>

<p>当容器元素及嵌套元素，即在<code>捕获阶段</code>又在<code>冒泡阶段</code>调用事件处理程序时：<strong>事件按 DOM 事件流的顺序</strong>执行事件处理程序：</p>
<ul>
<li>父级捕获</li>
<li>子级冒泡</li>
<li>子级捕获</li>
<li>父级冒泡</li>
</ul>
<p>且当事件处于目标阶段时，事件调用顺序决定于绑定事件的<strong>书写顺序</strong>，按上面的例子为，先调用冒泡阶段的事件处理程序，再调用捕获阶段的事件处理程序。依次 alert 出“子集冒泡”，“子集捕获”。</p>
<h3 id="IE-兼容"><a href="#IE-兼容" class="headerlink" title="IE 兼容"></a>IE 兼容</h3><ul>
<li>attchEvent(‘on’ + type, handler)</li>
<li>detachEvent(‘on’ + type, handler)</li>
</ul>
<h3 id="参考链接-2"><a href="#参考链接-2" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/entry/5826ba9d0ce4630056f85e07">juejin.im/entry/5826b…</a></li>
</ul>
<h2 id="问：事件是如何实现的？"><a href="#问：事件是如何实现的？" class="headerlink" title="问：事件是如何实现的？"></a>问：事件是如何实现的？</h2><p>基于发布订阅模式，就是在浏览器加载的时候会读取事件相关的代码，但是只有实际等到具体的事件触发的时候才会执行。</p>
<p>比如点击按钮，这是个事件（Event），而负责处理事件的代码段通常被称为事件处理程序（Event Handler），也就是「启动对话框的显示」这个动作。</p>
<p>在 Web 端，我们常见的就是 DOM 事件：</p>
<ul>
<li>DOM0 级事件，直接在 html 元素上绑定 on-event，比如 onclick，取消的话，dom.onclick = null，同一个事件只能有一个处理程序，后面的会覆盖前面的。</li>
<li>DOM2 级事件，通过 addEventListener 注册事件，通过 removeEventListener 来删除事件，一个事件可以有多个事件处理程序，按顺序执行，捕获事件和冒泡事件</li>
<li>DOM3 级事件，增加了事件类型，比如 UI 事件，焦点事件，鼠标事件</li>
</ul>
<h3 id="参考链接-3"><a href="#参考链接-3" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/73091706">zhuanlan.zhihu.com/p/73091706</a></li>
</ul>
<h2 id="问：new-一个函数发生了什么"><a href="#问：new-一个函数发生了什么" class="headerlink" title="问：new 一个函数发生了什么"></a>问：new 一个函数发生了什么</h2><p>构造调用：</p>
<ul>
<li>创造一个全新的对象</li>
<li>这个对象会被执行 [[Prototype]] 连接，将这个新对象的 [[Prototype]] 链接到这个构造函数.prototype 所指向的对象</li>
<li>这个新对象会绑定到函数调用的 this</li>
<li>如果函数没有返回其他对象，那么 new 表达式中的函数调用会自动返回这个新对象</li>
</ul>
<h2 id="问：new-一个构造函数，如果函数返回-return-、-return-null-，-return-1-，-return-true-会发生什么情况？"><a href="#问：new-一个构造函数，如果函数返回-return-、-return-null-，-return-1-，-return-true-会发生什么情况？" class="headerlink" title="问：new 一个构造函数，如果函数返回 return {} 、 return null ， return 1 ， return true 会发生什么情况？"></a>问：new 一个构造函数，如果函数返回 <code>return &#123;&#125;</code> 、 <code>return null</code> ， <code>return 1</code> ， <code>return true</code> 会发生什么情况？</h2><p>如果函数返回一个对象，那么 new 这个函数调用返回这个函数的返回对象，否则返回 new 创建的新对象</p>
<h2 id="问：symbol-有什么用处"><a href="#问：symbol-有什么用处" class="headerlink" title="问：symbol 有什么用处"></a>问：<code>symbol</code> 有什么用处</h2><p>可以用来表示一个独一无二的变量防止命名冲突。但是面试官问还有吗？我没想出其他的用处就直接答我不知道了，还可以利用 <code>symbol</code> 不会被常规的方法（除了 <code>Object.getOwnPropertySymbols</code> 外）遍历到，所以可以用来模拟私有变量。</p>
<p>主要用来提供遍历接口，布置了 <code>symbol.iterator</code> 的对象才可以使用 <code>for···of</code> 循环，可以统一处理数据结构。调用之后回返回一个遍历器对象，包含有一个 next 方法，使用 next 方法后有两个返回值 value 和 done 分别表示函数当前执行位置的值和是否遍历完毕。</p>
<p>Symbol.for() 可以在全局访问 symbol</p>
<h2 id="（3）问：闭包是什么？"><a href="#（3）问：闭包是什么？" class="headerlink" title="（3）问：闭包是什么？"></a>（3）问：闭包是什么？</h2><p>闭包是指有权访问另外一个函数作用域中的变量的函数</p>
<p>JavaScript 代码的整个执行过程，分为两个阶段，代码编译阶段与代码执行阶段。编译阶段由编译器完成，将代码翻译成可执行代码，这个阶段作用域规则会确定。执行阶段由引擎完成，主要任务是执行可执行代码，执行上下文在这个阶段创建。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c508a8bbade94a699d0baad47e5d43ed~tplv-k3u1fbpfcp-zoom-1.image" srcset="/blog/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="什么是作用域？"><a href="#什么是作用域？" class="headerlink" title="什么是作用域？"></a>什么是作用域？</h3><p>ES5 中只存在两种作用域：全局作用域和函数作用域。在 JavaScript 中，我们将作用域定义为一套规则，这套规则用来管理引擎如何在当前作用域以及嵌套子作用域中根据标识符名称进行变量（变量名或者函数名）查找</p>
<h3 id="什么是作用域链？"><a href="#什么是作用域链？" class="headerlink" title="什么是作用域链？"></a>什么是作用域链？</h3><p>首先要了解作用域链，当访问一个变量时，编译器在执行这段代码时，会首先从当前的作用域中查找是否有这个标识符，如果没有找到，就会去父作用域查找，如果父作用域还没找到继续向上查找，直到全局作用域为止,，而作用域链，就是有当前作用域与上层作用域的一系列变量对象组成，它保证了当前执行的作用域对符合访问权限的变量和函数的有序访问。</p>
<h3 id="闭包产生的本质"><a href="#闭包产生的本质" class="headerlink" title="闭包产生的本质"></a>闭包产生的本质</h3><p>当前环境中存在指向父级作用域的引用</p>
<h3 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h3><p>闭包是一种特殊的对象，它由两部分组成：执行上下文（代号 A），以及在该执行上下文中创建的函数 （代号 B），当 B 执行时，如果访问了 A 中变量对象的值，那么闭包就会产生，且在 Chrome 中使用这个执行上下文 A 的函数名代指闭包。</p>
<h3 id="一般如何产生闭包"><a href="#一般如何产生闭包" class="headerlink" title="一般如何产生闭包"></a>一般如何产生闭包</h3><ul>
<li>返回函数</li>
<li>函数当做参数传递</li>
</ul>
<h3 id="闭包的应用场景"><a href="#闭包的应用场景" class="headerlink" title="闭包的应用场景"></a>闭包的应用场景</h3><ul>
<li>柯里化 bind</li>
<li>模块</li>
</ul>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000012646221">segmentfault.com/a/119000001…</a></li>
</ul>
<h2 id="问：NaN-是什么，用-typeof-会输出什么？"><a href="#问：NaN-是什么，用-typeof-会输出什么？" class="headerlink" title="问：NaN 是什么，用 typeof 会输出什么？"></a>问：NaN 是什么，用 typeof 会输出什么？</h2><p>Not a Number，表示非数字，typeof NaN === ‘number’</p>
<h2 id="（2）问：JS-隐式转换，显示转换"><a href="#（2）问：JS-隐式转换，显示转换" class="headerlink" title="（2）问：JS 隐式转换，显示转换"></a>（2）问：JS 隐式转换，显示转换</h2><p>一般非基础类型进行转换时会先调用 valueOf，如果 valueOf 无法返回基本类型值，就会调用 toString</p>
<h3 id="字符串和数字"><a href="#字符串和数字" class="headerlink" title="字符串和数字"></a>字符串和数字</h3><ul>
<li>“+” 操作符，如果有一个为字符串，那么都转化到字符串然后执行字符串拼接</li>
<li>“-“ 操作符，转换为数字，相减 (-a, a * 1 a/1) 都能进行隐式强制类型转换</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">[] + &#123;&#125; 和 &#123;&#125; + []<br>复制代码<br></code></pre></td></tr></table></figure>

<h3 id="布尔值到数字"><a href="#布尔值到数字" class="headerlink" title="布尔值到数字"></a>布尔值到数字</h3><ul>
<li>1 + true = 2</li>
<li>1 + false = 1</li>
</ul>
<h3 id="转换为布尔值"><a href="#转换为布尔值" class="headerlink" title="转换为布尔值"></a>转换为布尔值</h3><ul>
<li>for 中第二个</li>
<li>while</li>
<li>if</li>
<li>三元表达式</li>
<li>|| （逻辑或） &amp;&amp; （逻辑与）左边的操作数</li>
</ul>
<h3 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h3><ul>
<li>不能被转换为数字</li>
<li>能被转换为布尔值（都是 true）</li>
<li>可以被转换成字符串 “Symbol(cool)”</li>
</ul>
<h3 id="宽松相等和严格相等"><a href="#宽松相等和严格相等" class="headerlink" title="宽松相等和严格相等"></a>宽松相等和严格相等</h3><p>宽松相等允许进行强制类型转换，而严格相等不允许</p>
<h4 id="字符串与数字"><a href="#字符串与数字" class="headerlink" title="字符串与数字"></a>字符串与数字</h4><p>转换为数字然后比较</p>
<h4 id="其他类型与布尔类型"><a href="#其他类型与布尔类型" class="headerlink" title="其他类型与布尔类型"></a>其他类型与布尔类型</h4><ul>
<li>先把布尔类型转换为数字，然后继续进行比较</li>
</ul>
<h4 id="对象与非对象"><a href="#对象与非对象" class="headerlink" title="对象与非对象"></a>对象与非对象</h4><ul>
<li>执行对象的 ToPrimitive(对象）然后继续进行比较</li>
</ul>
<h4 id="假值列表"><a href="#假值列表" class="headerlink" title="假值列表"></a>假值列表</h4><ul>
<li>undefined</li>
<li>null</li>
<li>false</li>
<li>+0, -0, NaN</li>
<li>“”</li>
</ul>
<h2 id="（2）问：了解-this-嘛，bind，call，apply-具体指什么"><a href="#（2）问：了解-this-嘛，bind，call，apply-具体指什么" class="headerlink" title="（2）问：了解 this 嘛，bind，call，apply 具体指什么"></a>（2）问：了解 this 嘛，bind，call，apply 具体指什么</h2><p>它们都是函数的方法</p>
<p><code>call: Array.prototype.call(this, args1, args2])</code> <code>apply: Array.prototype.apply(this, [args1, args2])</code> ：ES6 之前用来展开数组调用, <code>foo.appy(null, [])</code>，ES6 之后使用 … 操作符</p>
<ul>
<li>New 绑定 &gt; 显示绑定 &gt; 隐式绑定 &gt; 默认绑定</li>
<li>如果需要使用 bind 的柯里化和 apply 的数组解构，绑定到 null，尽可能使用 Object.create(null) 创建一个 DMZ 对象</li>
</ul>
<p>四条规则：</p>
<ul>
<li>默认绑定，没有其他修饰（bind、apply、call)，在非严格模式下定义指向全局对象，在严格模式下定义指向 undefined</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>)<br>&#125;<br><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">2</span><br><span class="hljs-title function_">foo</span>()<br>复制代码<br></code></pre></td></tr></table></figure>

<ul>
<li>隐式绑定：调用位置是否有上下文对象，或者是否被某个对象拥有或者包含，那么隐式绑定规则会把函数调用中的 this 绑定到这个上下文对象。而且，对象属性链只有上一层或者说最后一层在调用位置中起作用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>)<br>&#125;<br><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,<br>  <span class="hljs-attr">foo</span>: foo,<br>&#125;<br><br>obj.<span class="hljs-title function_">foo</span>() <span class="hljs-comment">// 2</span><br>复制代码<br></code></pre></td></tr></table></figure>

<ul>
<li>显示绑定：通过在函数上运行 call 和 apply ，来显示的绑定 this</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>)<br>&#125;<br><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,<br>&#125;<br><br>foo.<span class="hljs-title function_">call</span>(obj)<br>复制代码<br></code></pre></td></tr></table></figure>

<p>显示绑定之硬绑定</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">something</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>, something)<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + something<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">bind</span>(<span class="hljs-params">fn, obj</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> fn.<span class="hljs-title function_">apply</span>(obj, <span class="hljs-variable language_">arguments</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,<br>&#125;<br><br><span class="hljs-keyword">var</span> bar = <span class="hljs-title function_">bind</span>(foo, obj)<br>复制代码<br></code></pre></td></tr></table></figure>

<p>New 绑定，new 调用函数会创建一个全新的对象，并将这个对象绑定到函数调用的 this。</p>
<ul>
<li>New 绑定时，如果是 new 一个硬绑定函数，那么会用 new 新建的对象替换这个硬绑定 this，</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> = a<br>&#125;<br><br><span class="hljs-keyword">var</span> bar = <span class="hljs-keyword">new</span> <span class="hljs-title function_">foo</span>(<span class="hljs-number">2</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bar.<span class="hljs-property">a</span>)<br>复制代码<br></code></pre></td></tr></table></figure>

<h3 id="（4）问：手写-bind、apply、call"><a href="#（4）问：手写-bind、apply、call" class="headerlink" title="（4）问：手写 bind、apply、call"></a>（4）问：手写 bind、apply、call</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// call</span><br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">call</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context, ...args</span>) &#123;<br>  context = context || <span class="hljs-variable language_">window</span><br><br>  <span class="hljs-keyword">const</span> fnSymbol = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;fn&#x27;</span>)<br>  context[fnSymbol] = <span class="hljs-variable language_">this</span><br><br>  context[fnSymbol](...args)<br>  <span class="hljs-keyword">delete</span> context[fnSymbol]<br>&#125;<br>复制代码<br><span class="hljs-comment">// apply</span><br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">apply</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context, argsArr</span>) &#123;<br>  context = context || <span class="hljs-variable language_">window</span><br><br>  <span class="hljs-keyword">const</span> fnSymbol = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;fn&#x27;</span>)<br>  context[fnSymbol] = <span class="hljs-variable language_">this</span><br><br>  context[fnSymbol](...argsArr)<br>  <span class="hljs-keyword">delete</span> context[fnSymbol]<br>&#125;<br>复制代码<br><span class="hljs-comment">// bind</span><br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">bind</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context, ...args</span>) &#123;<br>  context = context || <span class="hljs-variable language_">window</span><br>  <span class="hljs-keyword">const</span> fnSymbol = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;fn&#x27;</span>)<br>  context[fnSymbol] = <span class="hljs-variable language_">this</span><br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">..._args</span>) &#123;<br>    args = args.<span class="hljs-title function_">concat</span>(_args)<br><br>    context[fnSymbol](...args)<br>    <span class="hljs-keyword">delete</span> context[fnSymbol]<br>  &#125;<br>&#125;<br><br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="（3）问：setTimeout-fn-0-多久才执行，Event-Loop"><a href="#（3）问：setTimeout-fn-0-多久才执行，Event-Loop" class="headerlink" title="（3）问：setTimeout(fn, 0)多久才执行，Event Loop"></a>（3）问：<code>setTimeout(fn, 0)</code>多久才执行，Event Loop</h2><p>setTimeout 按照顺序放到队列里面，然后等待函数调用栈清空之后才开始执行，而这些操作进入队列的顺序，则由设定的延迟时间来决定</p>
<h2 id="手写题：Promise-原理"><a href="#手写题：Promise-原理" class="headerlink" title="手写题：Promise 原理"></a>手写题：Promise 原理</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPromise</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">fn</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">resolvedCallbacks</span> = []<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rejectedCallbacks</span> = []<br><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-string">&#x27;PENDING&#x27;</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">resolve</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>), <span class="hljs-variable language_">this</span>.<span class="hljs-property">reject</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>))<br>  &#125;<br><br>  <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;PENDING&#x27;</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-string">&#x27;RESOLVED&#x27;</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value<br><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">resolvedCallbacks</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">cb</span> =&gt;</span> <span class="hljs-title function_">cb</span>(value))<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-title function_">reject</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;PENDING&#x27;</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-string">&#x27;REJECTED&#x27;</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value<br><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rejectedCallbacks</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">cb</span> =&gt;</span> <span class="hljs-title function_">cb</span>(value))<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-title function_">then</span>(<span class="hljs-params">onFulfilled, onRejected</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;PENDING&#x27;</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">resolvedCallbacks</span>.<span class="hljs-title function_">push</span>(onFulfilled)<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rejectedCallbacks</span>.<span class="hljs-title function_">push</span>(onRejected)<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;RESOLVED&#x27;</span>) &#123;<br>      <span class="hljs-title function_">onFulfilled</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>)<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;REJECTED&#x27;</span>) &#123;<br>      <span class="hljs-title function_">onRejected</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>)<br>    &#125;<br>  &#125;<br>&#125;<br><br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="问：js-脚本加载问题，async、defer-问题"><a href="#问：js-脚本加载问题，async、defer-问题" class="headerlink" title="问：js 脚本加载问题，async、defer 问题"></a>问：js 脚本加载问题，async、defer 问题</h2><ul>
<li>如果依赖其他脚本和 DOM 结果，使用 defer</li>
<li>如果与 DOM 和其他脚本依赖不强时，使用 async</li>
</ul>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/pw5lfFeNagmjFj45ygl2dQ">mp.weixin.qq.com/s/pw5lfFeNa…</a></li>
</ul>
<h2 id="问：如何判断一个对象是不是空对象？"><a href="#问：如何判断一个对象是不是空对象？" class="headerlink" title="问：如何判断一个对象是不是空对象？"></a>问：如何判断一个对象是不是空对象？</h2><p>Object.keys(obj).length === 0</p>
<p>手写题：在线编程，getUrlParams(url,key); 就是很简单的获取 url 的某个参数的问题，但要考虑边界情况，多个返回值等等</p>
<h2 id="问：-lt-script-src-’xxx’-’xxx’-gt-外部-js-文件先加载还是-onload-先执行，为什么？"><a href="#问：-lt-script-src-’xxx’-’xxx’-gt-外部-js-文件先加载还是-onload-先执行，为什么？" class="headerlink" title="问： &lt;script src=’xxx’ ’xxx’/&gt;外部 js 文件先加载还是 onload 先执行，为什么？"></a>问： &lt;script src=’xxx’ ’xxx’/&gt;外部 js 文件先加载还是 onload 先执行，为什么？</h2><p>onload 是所以加载完成之后执行的</p>
<h2 id="问：怎么加事件监听，两种"><a href="#问：怎么加事件监听，两种" class="headerlink" title="问：怎么加事件监听，两种"></a>问：怎么加事件监听，两种</h2><p>onclick 和 addEventListener</p>
<h2 id="问：事件传播机制（事件流）"><a href="#问：事件传播机制（事件流）" class="headerlink" title="问：事件传播机制（事件流）"></a>问：事件传播机制（事件流）</h2><p>冒泡和捕获</p>
<h2 id="（4）问：说一下原型链和原型链的继承吧"><a href="#（4）问：说一下原型链和原型链的继承吧" class="headerlink" title="（4）问：说一下原型链和原型链的继承吧"></a>（4）问：说一下原型链和原型链的继承吧</h2><ul>
<li>所有普通的 [[Prototype]] 链最终都会指向内置的 Object.prototype，其包含了 JavaScript 中许多通用的功能</li>
<li>为什么能创建 “类”，借助一种特殊的属性：所有的函数默认都会拥有一个名为 prototype 的共有且不可枚举的属性，它会指向另外一个对象，这个对象通常被称为函数的原型</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>&#125;<br><br><span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Person</span><br>复制代码<br></code></pre></td></tr></table></figure>

<ul>
<li>在发生 new 构造函数调用时，会将创建的新对象的 [[Prototype]] 链接到 Person.prototype 指向的对象，这个机制就被称为原型链继承</li>
<li>方法定义在原型上，属性定义在构造函数上</li>
<li>首先要说一下 JS 原型和实例的关系：每个构造函数 （constructor）都有一个原型对象（prototype），这个原型对象包含一个指向此构造函数的指针属性，通过 new 进行构造函数调用生成的实例，此实例包含一个指向原型对象的指针，也就是通过 [[Prototype]] 链接到了这个原型对象</li>
<li>然后说一下 JS 中属性的查找：当我们试图引用实例对象的某个属性时，是按照这样的方式去查找的，首先查找实例对象上是否有这个属性，如果没有找到，就去构造这个实例对象的构造函数的 prototype 所指向的对象上去查找，如果还找不到，就从这个 prototype 对象所指向的构造函数的 prototype 原型对象上去查找</li>
<li>什么是原型链：这样逐级查找形似一个链条，且通过 [[Prototype]] 属性链接，所以被称为原型链</li>
<li>什么是原型链继承，类比类的继承：当有两个构造函数 A 和 B，将一个构造函数 A 的原型对象的，通过其 [[Prototype]] 属性链接到另外一个 B 构造函数的原型对象时，这个过程被称之为原型继承。</li>
</ul>
<h3 id="标准答案更正确的解释"><a href="#标准答案更正确的解释" class="headerlink" title="标准答案更正确的解释"></a>标准答案更正确的解释</h3><p><strong>什么是原型链？</strong></p>
<p>当对象查找一个属性的时候，如果没有在自身找到，那么就会查找自身的原型，如果原型还没有找到，那么会继续查找原型的原型，直到找到 Object.prototype 的原型时，此时原型为 null，查找停止。 这种通过 通过原型链接的逐级向上的查找链被称为原型链</p>
<p><strong>什么是原型继承？</strong></p>
<p>一个对象可以使用另外一个对象的属性或者方法，就称之为继承。具体是通过将这个对象的原型设置为另外一个对象，这样根据原型链的规则，如果查找一个对象属性且在自身不存在时，就会查找另外一个对象，相当于一个对象可以使用另外一个对象的属性和方法了。</p>
<h3 id="参考链接-4"><a href="#参考链接-4" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/35790971">zhuanlan.zhihu.com/p/35790971</a></li>
</ul>
<h2 id="问：说下对-JS-的了解吧"><a href="#问：说下对-JS-的了解吧" class="headerlink" title="问：说下对 JS 的了解吧"></a>问：说下对 JS 的了解吧</h2><p>是基于原型的动态语言，主要独特特性有 this、原型和原型链。</p>
<p>JS 严格意义上来说分为：语言标准部分（ECMAScript）+ 宿主环境部分</p>
<h3 id="语言标准部分"><a href="#语言标准部分" class="headerlink" title="语言标准部分"></a>语言标准部分</h3><p>2015 年发布 ES6，引入诸多新特性使得能够编写大型项目变成可能，标准自 2015 之后以年号代号，每年一更</p>
<h3 id="宿主环境部分"><a href="#宿主环境部分" class="headerlink" title="宿主环境部分"></a>宿主环境部分</h3><ul>
<li>在浏览器宿主环境包括 DOM + BOM 等</li>
<li>在 Node，宿主环境包括一些文件、数据库、网络、与操作系统的交互等</li>
</ul>
<h2 id="问：数组能够调用的函数有那些？"><a href="#问：数组能够调用的函数有那些？" class="headerlink" title="问：数组能够调用的函数有那些？"></a>问：数组能够调用的函数有那些？</h2><ul>
<li>push</li>
<li>pop</li>
<li>splice</li>
<li>slice</li>
<li>shift</li>
<li>unshift</li>
<li>sort</li>
<li>find</li>
<li>findIndex</li>
<li>map/filter/reduce 等函数式编程方法</li>
<li>还有一些原型链上的方法：toString/valudOf</li>
</ul>
<h2 id="问：如何判断数组类型"><a href="#问：如何判断数组类型" class="headerlink" title="问：如何判断数组类型"></a>问：如何判断数组类型</h2><p>Array.isArray</p>
<h2 id="问：-函数中的-arguments-是数组吗？类数组转数组的方法了解一下？"><a href="#问：-函数中的-arguments-是数组吗？类数组转数组的方法了解一下？" class="headerlink" title="问： 函数中的 arguments 是数组吗？类数组转数组的方法了解一下？"></a>问： 函数中的 arguments 是数组吗？类数组转数组的方法了解一下？</h2><p>是类数组，是属于鸭子类型的范畴，长得像数组，</p>
<ul>
<li>… 运算符</li>
<li>Array.from</li>
<li>Array.prototype.slice.apply(arguments)</li>
</ul>
<h2 id="问：用过-TypeScript-吗？它的作用是什么？"><a href="#问：用过-TypeScript-吗？它的作用是什么？" class="headerlink" title="问：用过 TypeScript 吗？它的作用是什么？"></a>问：用过 TypeScript 吗？它的作用是什么？</h2><p>为 JS 添加类型支持，以及提供最新版的 ES 语法的支持，是的利于团队协作和排错，开发大型项目</p>
<h2 id="问：PWA-使用过吗？serviceWorker-的使用原理是啥？"><a href="#问：PWA-使用过吗？serviceWorker-的使用原理是啥？" class="headerlink" title="问：PWA 使用过吗？serviceWorker 的使用原理是啥？"></a>问：PWA 使用过吗？serviceWorker 的使用原理是啥？</h2><p><code>渐进式网络应用（PWA）</code>是谷歌在 2015 年底提出的概念。基本上算是 web 应用程序，但在外观和感觉上与<code>原生app</code>类似。支持<code>PWA</code>的网站可以提供脱机工作、推送通知和设备硬件访问等功能。</p>
<p><code>Service Worker</code>是浏览器在后台独立于网页运行的脚本，它打开了通向不需要网页或用户交互的功能的大门。 现在，它们已包括如推送通知和后台同步等功能。 将来，<code>Service Worker</code>将会支持如定期同步或地理围栏等其他功能。 本教程讨论的核心功能是拦截和处理网络请求，包括通过程序来管理缓存中的响应。</p>
<h3 id="参考链接-5"><a href="#参考链接-5" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5e26aa785188254c257c462d#heading-8">juejin.im/post/5e26aa…</a></li>
</ul>
<h2 id="问：ES6-之前使用-prototype-实现继承"><a href="#问：ES6-之前使用-prototype-实现继承" class="headerlink" title="问：ES6 之前使用 prototype 实现继承"></a>问：ES6 之前使用 prototype 实现继承</h2><p>Object.create() 会创建一个 “新” 对象，然后将此对象内部的 [[Prototype]] 关联到你指定的对象（Foo.prototype）。Object.create(null) 创建一个空 [[Prototype]] 链接的对象，这个对象无法进行委托。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>&#125;<br><br><span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myName</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span><br>&#125;<br><br><span class="hljs-comment">// 继承属性，通过借用构造函数调用</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Bar</span>(<span class="hljs-params">name, label</span>) &#123;<br>  <span class="hljs-title class_">Foo</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name)<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">label</span> = label<br>&#125;<br><br><span class="hljs-comment">// 继承方法，创建备份</span><br><span class="hljs-title class_">Bar</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)<br><br><span class="hljs-comment">// 必须设置回正确的构造函数，要不然在会发生判断类型出错</span><br><span class="hljs-title class_">Bar</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Bar</span><br><br><span class="hljs-comment">// 必须在上一步之后</span><br><span class="hljs-title class_">Bar</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myLabel</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">label</span><br>&#125;<br><br><span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bar</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;obj a&#x27;</span>)<br><br>a.<span class="hljs-title function_">myName</span>() <span class="hljs-comment">// &quot;a&quot;</span><br>a.<span class="hljs-title function_">myLabel</span>() <span class="hljs-comment">// &quot;obj a&quot;</span><br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="问-如果一个构造函数，bind-了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么？"><a href="#问-如果一个构造函数，bind-了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么？" class="headerlink" title="问:如果一个构造函数，bind 了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么？"></a>问:如果一个构造函数，bind 了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么？</h2><p>不会继承，因为根据 this 绑定四大规则，new 绑定的优先级高于 bind 显示绑定，通过 new 进行构造函数调用时，会创建一个新对象，这个新对象会代替 bind 的对象绑定，作为此函数的 this，并且在此函数没有返回对象的情况下，返回这个新建的对象</p>
<h2 id="3-箭头函数和普通函数有啥区别？箭头函数能当构造函数吗？"><a href="#3-箭头函数和普通函数有啥区别？箭头函数能当构造函数吗？" class="headerlink" title="(3)箭头函数和普通函数有啥区别？箭头函数能当构造函数吗？"></a>(3)箭头函数和普通函数有啥区别？箭头函数能当构造函数吗？</h2><ul>
<li><p>普通函数通过 function 关键字定义， this 无法结合词法作用域使用，在运行时绑定，只取决于函数的调用方式，在哪里被调用，调用位置。（取决于调用者，和是否独立运行）</p>
</li>
<li><p>箭头函数使用被称为 “胖箭头” 的操作</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">=&gt;<br></code></pre></td></tr></table></figure>

<p>定义，箭头函数不应用普通函数 this 绑定的四种规则，而是根据外层（函数或全局）的作用域来决定 this，且箭头函数的绑定无法被修改（new 也不行）。</p>
<ul>
<li>箭头函数常用于回调函数中，包括事件处理器或定时器</li>
<li>箭头函数和 var self = this，都试图取代传统的 this 运行机制，将 this 的绑定拉回到词法作用域</li>
<li>没有原型、没有 this、没有 super，没有 arguments，没有 new.target</li>
<li>不能通过 new 关键字调用<ul>
<li>一个函数内部有两个方法：[[Call]] 和 [[Construct]]，在通过 new 进行函数调用时，会执行 [[construct]] 方法，创建一个实例对象，然后再执行这个函数体，将函数的 this 绑定在这个实例对象上</li>
<li>当直接调用时，执行 [[Call]] 方法，直接执行函数体</li>
<li>箭头函数没有 [[Construct]] 方法，不能被用作构造函数调用，当使用 new 进行函数调用时会报错。</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> obj1 = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">2</span>,<br>&#125;<br><br><span class="hljs-keyword">var</span> obj2 = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">3</span>,<br>&#125;<br><br><span class="hljs-keyword">var</span> bar = foo.<span class="hljs-title function_">call</span>(obj1)<br>bar.<span class="hljs-title function_">call</span>(obj2)<br>复制代码<br></code></pre></td></tr></table></figure>

<h3 id="参考资料-1"><a href="#参考资料-1" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015162781">segmentfault.com/a/119000001…</a></li>
</ul>
<h2 id="问：知道-ES6-的-Class-嘛？Static-关键字有了解嘛"><a href="#问：知道-ES6-的-Class-嘛？Static-关键字有了解嘛" class="headerlink" title="问：知道 ES6 的 Class 嘛？Static 关键字有了解嘛"></a>问：知道 ES6 的 Class 嘛？Static 关键字有了解嘛</h2><p>为这个类的函数对象直接添加方法，而不是加在这个函数对象的原型对象上</p>
<h2 id="（3）问：事件循环机制-（Event-Loop）"><a href="#（3）问：事件循环机制-（Event-Loop）" class="headerlink" title="（3）问：事件循环机制 （Event Loop）"></a>（3）问：事件循环机制 （Event Loop）</h2><p>事件循环机制从整体上告诉了我们 JavaScript 代码的执行顺序 <code>Event Loop</code>即事件循环，是指浏览器或<code>Node</code>的一种解决<code>javaScript</code>单线程运行时不会阻塞的一种机制，也就是我们经常使用<strong>异步</strong>的原理。</p>
<p>先执行宏任务队列，然后执行微任务队列，然后开始下一轮事件循环，继续先执行宏任务队列，再执行微任务队列。</p>
<ul>
<li>宏任务：script/setTimeout/setInterval/setImmediate/ I/O / UI Rendering</li>
<li>微任务：process.nextTick()/Promise</li>
</ul>
<p>上诉的 setTimeout 和 setInterval 等都是任务源，真正进入任务队列的是他们分发的任务。</p>
<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><ul>
<li>setTimeout = setInterval 一个队列</li>
<li>setTimeout &gt; setImmediate</li>
<li>process.nextTick &gt; Promise</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> macroTask <span class="hljs-keyword">of</span> macroTaskQueue) &#123;<br>  <span class="hljs-title function_">handleMacroTask</span>()<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> microTask <span class="hljs-keyword">of</span> microTaskQueue) &#123;<br>    <span class="hljs-title function_">handleMicroTask</span>(microTask)<br>  &#125;<br>&#125;<br>复制代码<br></code></pre></td></tr></table></figure>

<h3 id="参考链接-6"><a href="#参考链接-6" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/59e85eebf265da430d571f89">juejin.im/post/59e85e…</a></li>
</ul>
<h2 id="（2）手写题：数组扁平化"><a href="#（2）手写题：数组扁平化" class="headerlink" title="（2）手写题：数组扁平化"></a>（2）手写题：数组扁平化</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">flatten</span>(<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">let</span> result = []<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr[i])) &#123;<br>      result = result.<span class="hljs-title function_">concat</span>(<span class="hljs-title function_">flatten</span>(arr[i]))<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      result = result.<span class="hljs-title function_">concat</span>(arr[i])<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> result<br>&#125;<br><br><span class="hljs-keyword">const</span> a = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">flatten</span>(a))<br><br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="手写题：实现柯里化"><a href="#手写题：实现柯里化" class="headerlink" title="手写题：实现柯里化"></a>手写题：实现柯里化</h2><p>预先设置一些参数</p>
<p>柯里化是什么：是指这样一个函数，它接收函数 A，并且能返回一个新的函数，这个新的函数能够处理函数 A 的剩余参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCurry</span>(<span class="hljs-params">func, args</span>) &#123;<br>  <span class="hljs-keyword">var</span> argity = func.<span class="hljs-property">length</span><br>  <span class="hljs-keyword">var</span> args = args || []<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> _args = [].<span class="hljs-property">slice</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">arguments</span>)<br>    args.<span class="hljs-title function_">push</span>(..._args)<br><br>    <span class="hljs-keyword">if</span> (args.<span class="hljs-property">length</span> &lt; argity) &#123;<br>      <span class="hljs-keyword">return</span> createCurry.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, func, args)<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> func.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)<br>  &#125;<br>&#125;<br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="手写题：数组去重"><a href="#手写题：数组去重" class="headerlink" title="手写题：数组去重"></a>手写题：数组去重</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>]))<br>复制代码<br></code></pre></td></tr></table></figure>

<h2 id="问：let-闭包"><a href="#问：let-闭包" class="headerlink" title="问：let 闭包"></a>问：let 闭包</h2><p>let 会产生临时性死区，在当前的执行上下文中，会进行变量提升，但是未被初始化，所以在执行上下文执行阶段，执行代码如果还没有执行到变量赋值，就引用此变量就会报错，此变量未初始化。</p>
<h2 id="问：变量提升"><a href="#问：变量提升" class="headerlink" title="问：变量提升"></a>问：变量提升</h2><p>函数在运行的时候，会首先创建执行上下文，然后将执行上下文入栈，然后当此执行上下文处于栈顶时，开始运行执行上下文。</p>
<p>在创建执行上下文的过程中会做三件事：创建变量对象，创建作用域链，确定 this 指向，其中创建变量对象的过程中，首先会为 arguments 创建一个属性，值为 arguments，然后会扫码 function 函数声明，创建一个同名属性，值为函数的引用，接着会扫码 var 变量声明，创建一个同名属性，值为 undefined，这就是变量提升 *<strong>*问：</strong>如何看待 PWA App、原生 App 以及 Flutter 和 React Native 这种前端驱动的开发模式？</p>
<h2 id="instance-如何使用"><a href="#instance-如何使用" class="headerlink" title="instance 如何使用"></a>instance 如何使用</h2><p>左边可以是任意值，右边只能是函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&#x27;hello tuture&#x27;</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span> <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>

<h2 id="参考资料-2"><a href="#参考资料-2" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5d79ccf85188254bf34fd9d1">juejin.im/post/5d79cc…</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/pw5lfFeNagmjFj45ygl2dQ">mp.weixin.qq.com/s/pw5lfFeNa…</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/bHclDpsGdfaZQT8u9VRAAw">mp.weixin.qq.com/s/bHclDpsGd…</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/cd3fee40ef59">www.jianshu.com/p/cd3fee40e…</a></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6934500357091360781">本文转自 https://juejin.cn/post/6934500357091360781</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/blog/categories/%E5%85%B6%E4%BB%96/" class="category-chain-item">其他</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/blog/tags/js/">#js</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/blog/2021/03/17/JS/%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E5%8E%BB%E9%87%8D/" title="js中数组对象去重">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">js中数组对象去重</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/blog/2021/01/31/vue/vue_router/" title="Vue解决同一页面跳转页面不更新">
                        <span class="hidden-mobile">Vue解决同一页面跳转页面不更新</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"rjYK8gArXwKlWNAj87aLDjel-gzGzoHsz","appKey":"nwLIBSLqc2For9OE49wSuWaf","path":"window.location.pathname","placeholder":"说点什么","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":null,"emojiCDN":null,"emojiMaps":null,"enableQQ":false,"appid":"rjYK8gArXwKlWNAj87aLDjel-gzGzoHsz","appkey":"nwLIBSLqc2For9OE49wSuWaf"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <i class="iconfont icon-mail"></i> <a href="#" rel="nofollow noopener"><span>1793980864@qq.com</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/blog/js/events.js" ></script>
<script  src="/blog/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/blog/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/blog/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/blog/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
